(self.webpackChunk=self.webpackChunk||[]).push([["frontend-chunk-2"],{"./resources/js/components/Checkout.vue":
/*!**********************************************************!*\
  !*** ./resources/js/components/Checkout.vue + 4 modules ***!
  \**********************************************************/(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": () => (/* binding */ Checkout)\n});\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm-bundler.js\nvar vue_esm_bundler = __webpack_require__("./node_modules/vue/dist/vue.esm-bundler.js");\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[15].use[0]!./resources/js/components/Checkout.vue?vue&type=template&id=715e4fb1\n\nconst _hoisted_1 = {\n  class: "col-md-6 order-md-1"\n};\n\nconst _hoisted_2 = /*#__PURE__*/(0,vue_esm_bundler.createVNode)("h4", {\n  class: "mb-3"\n}, "Billing address", -1\n/* HOISTED */\n);\n\nconst _hoisted_3 = {\n  class: "needs-validation",\n  novalidate: ""\n};\nconst _hoisted_4 = {\n  class: "row"\n};\nconst _hoisted_5 = {\n  class: "col-md-6 mb-3"\n};\n\nconst _hoisted_6 = /*#__PURE__*/(0,vue_esm_bundler.createVNode)("label", {\n  for: "firstName"\n}, "Name", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = {\n  class: "mb-3"\n};\n\nconst _hoisted_8 = /*#__PURE__*/(0,vue_esm_bundler.createVNode)("label", {\n  for: "email"\n}, [/*#__PURE__*/(0,vue_esm_bundler.createTextVNode)("Email "), /*#__PURE__*/(0,vue_esm_bundler.createVNode)("span", {\n  class: "text-muted"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  class: "mb-3"\n};\n\nconst _hoisted_10 = /*#__PURE__*/(0,vue_esm_bundler.createVNode)("label", {\n  for: "phone"\n}, [/*#__PURE__*/(0,vue_esm_bundler.createTextVNode)("Phone "), /*#__PURE__*/(0,vue_esm_bundler.createVNode)("span", {\n  class: "text-muted"\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = /*#__PURE__*/(0,vue_esm_bundler.createVNode)("hr", {\n  class: "mb-4"\n}, null, -1\n/* HOISTED */\n);\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (0,vue_esm_bundler.openBlock)(), (0,vue_esm_bundler.createBlock)("div", _hoisted_1, [_hoisted_2, (0,vue_esm_bundler.createVNode)("form", _hoisted_3, [(0,vue_esm_bundler.createVNode)("div", _hoisted_4, [(0,vue_esm_bundler.createVNode)("div", _hoisted_5, [_hoisted_6, (0,vue_esm_bundler.withDirectives)((0,vue_esm_bundler.createVNode)("input", {\n    type: "text",\n    class: "form-control",\n    id: "firstName",\n    "onUpdate:modelValue": _cache[1] || (_cache[1] = $event => _ctx.form.name = $event),\n    placeholder: "",\n    required: ""\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[vue_esm_bundler.vModelText, _ctx.form.name]])])]), (0,vue_esm_bundler.createVNode)("div", _hoisted_7, [_hoisted_8, (0,vue_esm_bundler.withDirectives)((0,vue_esm_bundler.createVNode)("input", {\n    type: "email",\n    class: "form-control",\n    id: "email",\n    "onUpdate:modelValue": _cache[2] || (_cache[2] = $event => _ctx.form.email = $event),\n    placeholder: "you@example.com",\n    required: ""\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[vue_esm_bundler.vModelText, _ctx.form.email]])]), (0,vue_esm_bundler.createVNode)("div", _hoisted_9, [_hoisted_10, (0,vue_esm_bundler.withDirectives)((0,vue_esm_bundler.createVNode)("input", {\n    type: "text",\n    class: "form-control",\n    id: "phone",\n    "onUpdate:modelValue": _cache[3] || (_cache[3] = $event => _ctx.form.phone = $event),\n    placeholder: ""\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[vue_esm_bundler.vModelText, _ctx.form.phone]])]), _hoisted_11])]);\n}\n;// CONCATENATED MODULE: ./resources/js/components/Checkout.vue?vue&type=template&id=715e4fb1\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm-bundler.js\nvar vuex_esm_bundler = __webpack_require__("./node_modules/vuex/dist/vuex.esm-bundler.js");\n;// CONCATENATED MODULE: ./node_modules/ts-loader/index.js??clonedRuleSet-5.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[15].use[0]!./resources/js/components/Checkout.vue?vue&type=script&lang=ts\n\r\n\r\n/* harmony default export */ const Checkoutvue_type_script_lang_ts = ((0,vue_esm_bundler.defineComponent)({\r\n    props: [\'validate\', \'cart\', \'total\'],\r\n    setup(props) {\r\n        const validate = props.validate;\r\n        const cart = props.cart;\r\n        const total = props.total;\r\n        const store = (0,vuex_esm_bundler.useStore)();\r\n        const user_id = (0,vue_esm_bundler.computed)(() => store.state.user);\r\n        const user = (0,vue_esm_bundler.computed)(() => store.state.userInfo);\r\n        const form = (0,vue_esm_bundler.ref)({});\r\n        store.dispatch(\'fetchUserInfo\', user_id.value).then(() => {\r\n            form.value = {\r\n                user_id: user.value.id ? user.value.id : null,\r\n                name: user.value.name ? user.value.name : \'\',\r\n                email: user.value.email ? user.value.email : \'\',\r\n                phone: user.value.phone ? user.value.phone : \'\',\r\n                products: cart,\r\n                total: total\r\n            };\r\n        });\r\n        (0,vue_esm_bundler.watch)(() => props.validate, (newVal) => {\r\n            if (newVal) {\r\n                if ((form.value.email || form.value.phone) && form.value.products) {\r\n                    store.dispatch(\'createOrder\', form.value).then(() => {\r\n                        store.commit(\'SET_CART\', []);\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        return {\r\n            form,\r\n            validate,\r\n            cart,\r\n            total,\r\n            user_id,\r\n            user\r\n        };\r\n    }\r\n}));\r\n\n;// CONCATENATED MODULE: ./resources/js/components/Checkout.vue?vue&type=script&lang=ts\n \n;// CONCATENATED MODULE: ./resources/js/components/Checkout.vue\n\n\n\nCheckoutvue_type_script_lang_ts.render = render\n/* hot reload */\nif (false) {}\n\nCheckoutvue_type_script_lang_ts.__file = "resources/js/components/Checkout.vue"\n\n/* harmony default export */ const Checkout = (Checkoutvue_type_script_lang_ts);\n\n//# sourceURL=webpack:///./resources/js/components/Checkout.vue_+_4_modules?')}}]);